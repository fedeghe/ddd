## 2.0 The perspective

![perspective](https://github.com/fedeghe/ddd/blob/master/dist/book/media/perspective.png?raw=true)

The perspective is a tecnique to represent on a plane a tridimensional object.  
Lines that in 3D are parallel (usually apart vertical ones) meet in the 2D plane in a so called _vanishing-point_. Those vanishing points line on the same line, called _horizon_.  

## 2.1 The coordinates transformations

We will build models and move them, do all the math in 3D and each time we want to "see" it on our screen we will need to run:  

1) a viewing transformation  
    from World coordinates (x<sub>w</sub>, y<sub>w</sub>, z<sub>w</sub>) 
    into Eye coordinates (x<sub>e</sub>, y<sub>e</sub>, z<sub>e</sub>)

2) a perspective transformation  
    from eye coordinates (x<sub>e</sub>, y<sub>e</sub>, z<sub>e</sub>)  
    into screen coordinates (X, Y)

#### 2.1.1 the viewing transformation

The first transformation we need to compute in the one that changes the coordinate system from the world into a coordinate system having its origin in the our eye (one for the moment), the point of view, or camera. I'll refer to that point with the E letter.

![view transformation](https://github.com/fedeghe/ddd/blob/master/dist/book/media/transformation0.png?raw=true)

On the left you can see our scene in the world's coordinate system. The scene it will contain everything we want to render in 2D. Another very important element is the observer, our eye.
On the right you can see the scene in the eye's coordinate system, once we'll get there we will be really close to know how our scene relevant simple data might appear in 2D.

The viewing transformation can simply be composed by:

- **a translation**: move the origin from O<sub>w</sub> to E
  
![view transformation](https://github.com/fedeghe/ddd/blob/master/dist/book/media/transformation1.png?raw=true)

$$\mathbf{T} = \begin{vmatrix}
1 & 0 & 0 & 0 \\
0 & 1 & 0 & 0 \\
0 & 0 & 1 & 0 \\
-x_{e} & -y_{e} & -z_{e} & 1 \\
\end{vmatrix}$$

- **a rotation**: around the z-axis

![view transformation](https://github.com/fedeghe/ddd/blob/master/dist/book/media/transformation2.png?raw=true)  

$$\mathbf{R_{z}} = \begin{vmatrix}
cos(-\theta-90\degree) & sin(-\theta-90\degree) & 0 & 0 \\
-sin(-\theta-90\degree) & cos(-\theta-90\degree) & 0 & 0 \\
0 & 0 & 1 & 0 \\
0 & 0 & 0 & 1 \\
\end{vmatrix} = \begin{vmatrix}
-sin \theta  & -cos \theta  & 0 & 0 \\
cos \theta & -sin \theta & 0 & 0 \\
0 & 0 & 1 & 0 \\
0 & 0 & 0 & 1 \\
\end{vmatrix}$$

- **another rotation**: around the x-axis

$$\mathbf{R_{x}} = \begin{vmatrix}
1 & 0 & 0 & 0 \\
0 & cos(-\phi) & sin(-\phi) & 0 \\
0 & -sin(-\phi) & cos(-\phi) & 0 \\
0 & 0 & 0 & 1 \\
\end{vmatrix} = \begin{vmatrix}
1 & 0 & 0 & 0 \\
0 & cos \phi & -sin \phi & 0 \\
0 & sin \phi & cos \phi & 0 \\
0 & 0 & 0 & 1 \\
\end{vmatrix}$$

and now it should be clear we got to the eye's coordinate system, we Just need to combine everything to get:

$$\mathbf{V} = \mathbf{T} \mathbf{R_{z}} \mathbf{R_{x}} = \begin{vmatrix}
-sin \theta & -cos \phi cos \theta & sin \phi cos \theta  & 0 \\
cos \theta & -cos \phi sin \theta & sin \phi sin \theta & 0 \\
0 & sin \phi & cos \phi & 0 \\
0 & 0 & -\rho & 1 \\
\end{vmatrix}$$

thus finally 

$$
[x_{e}, y_{e}, z_{e} ,1] = [x_{w}, y_{w}, z_{w}, 1]  \mathbf{V}
$$

now we can proceed with the last step toward our set of `{x, y} ∈ ℤ2` (screen bounded).

#### 2.1.2 the perspective transformation



